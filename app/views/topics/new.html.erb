<div class="row">
  <div class="col-md-6 col-md-offset-3">

    <h1>Create Topic</h1>

    <%= form_for @topic, html: {class: "contact-form"} do |f| %>

        <%= f.text_field :title, id: 'title', class: 'form', required: 'required', placeholder: 'Topic title' %>

        <div id="charNum">140</div>
        <%= f.text_area :excerpt, id: 'excerpt', class: 'form', onkeyup: 'countChar(this)', required: 'required', placeholder: 'Brief summary (max 140 char)' %>

        <%= f.text_area :description, id: 'description', class: 'form', required: 'required', placeholder: 'Long description' %>

        <%= f.submit "Add", class: "form-btn" %>
    <% end %>

  </div>
</div>

<script>
  function countChar(val) {
    var len = val.value.length;
    if (len > 140) {
      val.value = val.value.substring(0, 140);
    } else {
      $('#charNum').text(140 - len);
    }
  };
</script>